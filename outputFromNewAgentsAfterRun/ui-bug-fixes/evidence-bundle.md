# Evidence Bundle â€” ui-bug-fixes

> **Pipeline Run:** 2026-02-26T14:30:00Z
> **Overall Confidence:** High
> **Generated by:** Knowledge Agent (Step 8b)

---

## Verification Summary

All 8 tasks verified. TASK-002 initially failed 1 check (test type mismatch `MudNumericField<int>` â†’ `MudNumericField<int?>`), which was fixed in a revision loop. Final state: all checks pass.

| Task      | Checks | Passed | Failed | Regressions | Gate Status        |
| --------- | ------ | ------ | ------ | ----------- | ------------------ |
| TASK-001  | 4      | 4      | 0      | 0           | passed             |
| TASK-002  | 4      | 4      | 0      | 0           | passed (after fix) |
| TASK-003  | 4      | 4      | 0      | 0           | passed             |
| TASK-004  | 4      | 4      | 0      | 0           | passed             |
| TASK-005  | 4      | 4      | 0      | 0           | passed             |
| TASK-006  | 4      | 4      | 0      | 0           | passed             |
| TASK-007  | 4      | 4      | 0      | 0           | passed             |
| TASK-008  | 4      | 4      | 0      | 0           | passed             |
| **Total** | **32** | **32** | **0**  | **0**       | **passed**         |

Each task verified 4 checks: IDE diagnostics (Tier 1), syntax check (Tier 1), build (Tier 2), and tests (Tier 2).

---

## Review Summary

### Design Review (Step 3b)

| Model           | Focus        | Round | Verdict        | Issues Found | Severity Breakdown |
| --------------- | ------------ | ----- | -------------- | ------------ | ------------------ |
| claude-opus-4.6 | architecture | 1     | needs_revision | 4            | 0B/1C/2Ma/1Mi      |
| claude-opus-4.6 | correctness  | 1     | needs_revision | 5            | 0B/1C/2Ma/2Mi      |
| claude-opus-4.6 | security     | 1     | approve        | 5            | 0B/0C/0Ma/5Mi      |

**Design revision outcome:** The critical/major findings all concerned BUG-006 theme palette values (dark Background=#000000 contradicting AC-006-8, Surface=#FFFFFF violating test invariant, DrawerBackground coupling omitted). The implementer resolved all issues by using compliant values: near-black dark backgrounds, non-pure-white Surface, and synchronized DrawerBackground. All invariant tests pass post-implementation.

### Code Review (Step 7)

| Model           | Focus        | Round | Verdict | Issues Found | Severity Breakdown |
| --------------- | ------------ | ----- | ------- | ------------ | ------------------ |
| claude-opus-4.6 | architecture | 1     | approve | 3            | 0B/0C/0Ma/3Mi      |
| claude-opus-4.6 | correctness  | 1     | approve | 4            | 0B/0C/1Ma/3Mi      |
| claude-opus-4.6 | security     | 1     | approve | 0            | 0B/0C/0Ma/0Mi      |

**Code review total:** 0 Blocker, 0 Critical, 1 Major, 6 Minor. All 3 reviewers approved.

---

## Rollback Command

To revert all pipeline changes:

```
git revert --no-commit pipeline-baseline-2026-02-26T14-30-00Z..HEAD
```

---

## Blast Radius

- **Files modified:** 12 (9 production + 3 test)
- **Risk classifications:**
  - ðŸŸ¡ Medium risk: 4 files (core logic changes)
    - `src/TourneyPal.UI/Features/Games/CreateGame/CreateGamePage.razor.cs` â€” cancel navigation + template picker flow (TASK-004, TASK-005)
    - `src/TourneyPal.UI/Features/Players/CreatePlayer/CreatePlayerPage.razor.cs` â€” nullable skill rating (TASK-002)
    - `src/TourneyPal.UI/Features/Players/CreatePlayer/CreatePlayerPage.razor` â€” field binding change (TASK-002)
    - `src/TourneyPal.UI/Common/Theme/ThemeRegistry.cs` â€” palette values for 7 themes (TASK-007, TASK-008)
  - ðŸŸ¢ Low risk: 8 files (CSS, visual-only Razor, test-only)
    - `src/TourneyPal.UI/wwwroot/css/list-swipe.css` â€” icon sizing CSS (TASK-001)
    - `src/TourneyPal.UI/Common/Components/EmptyState.razor` â€” text color attribute (TASK-003)
    - `src/TourneyPal.UI/Common/Components/LoadingState.razor` â€” text color attribute (TASK-003)
    - `src/TourneyPal.UI/Features/Settings/ThemePreviewCard.razor` â€” text color attribute (TASK-007)
    - `src/TourneyPal.UI/Features/Settings/AppearancePage.razor` â€” text color attribute (TASK-007)
    - `tests/TourneyPal.Tests/Features/Games/CreateGame/CreateGamePageTemplateSelectionTests.cs` â€” new tests (TASK-004, TASK-005)
    - `tests/TourneyPal.Tests/Features/Games/CreateGame/CreateGameHandlerTests.cs` â€” new test (TASK-006)
    - `tests/TourneyPal.Tests/Common/Theme/ThemeRegistryTests.cs` â€” updated assertions (TASK-007)
- **Regressions detected:** 0

---

## Known Issues

| #   | Description                                                                                                                                                                                                                              | Severity | Source                                     |
| --- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------- | ------------------------------------------ |
| 1   | Contradictory tests for `saveAsTemplate` EventId guard: `Submit_SaveAsTemplateGuardedByEventContext` documents superseded spec vs `Submit_SaveAsTemplate_NotGuardedByEventId` documents current behavior. Both pass (logic-level tests). | Major    | Code review (correctness)                  |
| 2   | Professional theme `PaletteDark.Secondary` (#ff4081) mismatches `PreviewSwatches` DarkColor (#FF375F). Swatch shows a color users won't see.                                                                                             | Minor    | Code review (correctness + architecture)   |
| 3   | No test for nullâ†’DefaultSkillRating coercion at submit boundary in `CreatePlayerPage`.                                                                                                                                                   | Minor    | Code review (correctness)                  |
| 4   | Several TASK-004/005 tests assert local variables instead of production code (spec documentation, not regression protection).                                                                                                            | Minor    | Code review (correctness)                  |
| 5   | 30+ `.razor` files still use `Color="Color.Secondary"` on `MudText` for muted text intent â€” inconsistent with the new `var(--mud-palette-text-secondary)` pattern.                                                                       | Minor    | Code review (architecture), TASK-003 audit |
| 6   | `CreatePlayerPage` lacks unsaved-changes guardrail (`IDisposable`, `HasUnsavedChanges`) present in `CreateRosterPlayerPage`. Pre-existing.                                                                                               | Minor    | Code review (architecture)                 |

---

## Pipeline Telemetry

- **Total tasks:** 8 (3 waves)
- **Risk breakdown:** 3 green, 5 yellow, 0 red
- **Verification iterations:** TASK-002 required 1 revision loop (test type fix); all others verified on first pass
- **Design review iterations:** 1 round (2 needs_revision + 1 approve â†’ issues resolved during implementation)
- **Code review:** 1 round, all 3 reviewers approved
